!function(t,e,i){"use strict";var s,o,n,l,r,h,a,c,p,d,u,g,f,v,m,T,b,y,S,w,H,x,Y;x={paneClass:"pane",sliderClass:"slider",contentClass:"content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null},y="scrollbar",b="scroll",d="mousedown",u="mousemove",f="mousewheel",g="mouseup",T="resize",r="drag",w="up",m="panedown",n="DOMMouseScroll",l="down",H="wheel",h="keydown",p="keyup",S="touchmove",s="Microsoft Internet Explorer"===e.navigator.appName&&/msie 7./i.test(e.navigator.appVersion)&&e.ActiveXObject,o=null,c={},a={up:38,down:40,pgup:33,pgdown:34,home:36,end:35},Y=function(){var t,e,s;return t=i.createElement("div"),e=t.style,e.position="absolute",e.width="100px",e.height="100px",e.overflow=b,e.top="-9999px",i.body.appendChild(t),s=t.offsetWidth-t.clientWidth,i.body.removeChild(t),s},v=function(){function a(s,n){this.el=s,this.options=n,o||(o=Y()),this.$el=t(this.el),this.doc=t(i),this.win=t(e),this.generate(),this.createEvents(),this.addEvents(),this.reset()}return a.prototype.preventScrolling=function(t,e){if(this.isActive)if(t.type===n)(e===l&&t.originalEvent.detail>0||e===w&&t.originalEvent.detail<0)&&t.preventDefault();else if(t.type===f){if(!t.originalEvent||!t.originalEvent.wheelDelta)return;(e===l&&t.originalEvent.wheelDelta<0||e===w&&t.originalEvent.wheelDelta>0)&&t.preventDefault()}},a.prototype.updateScrollValues=function(){var t;t=this.content[0],this.maxScrollTop=t.scrollHeight-t.clientHeight,this.contentScrollTop=t.scrollTop,this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=this.contentScrollTop*this.maxSliderTop/this.maxScrollTop},a.prototype.createEvents=function(){var t=this;this.events={down:function(e){return t.isBeingDragged=!0,t.offsetY=e.pageY-t.slider.offset().top,t.pane.addClass("active"),t.doc.bind(u,t.events[r]).bind(g,t.events[w]),!1},drag:function(e){return t.sliderY=e.pageY-t.$el.offset().top-t.offsetY,t.scroll(),t.updateScrollValues(),t.contentScrollTop>=t.maxScrollTop?t.$el.trigger("scrollend"):0===t.contentScrollTop&&t.$el.trigger("scrolltop"),!1},up:function(){return t.isBeingDragged=!1,t.pane.removeClass("active"),t.doc.unbind(u,t.events[r]).unbind(g,t.events[w]),!1},resize:function(){t.reset()},panedown:function(e){return t.sliderY=(e.offsetY||e.originalEvent.layerY)-.5*t.sliderHeight,t.scroll(),t.events.down(e),!1},scroll:function(e){t.isBeingDragged||(t.updateScrollValues(),t.sliderY=t.sliderTop,t.slider.css({top:t.sliderTop}),null!=e&&(t.contentScrollTop>=t.maxScrollTop?(t.options.preventPageScrolling&&t.preventScrolling(e,l),t.$el.trigger("scrollend")):0===t.contentScrollTop&&(t.options.preventPageScrolling&&t.preventScrolling(e,w),t.$el.trigger("scrolltop"))))},wheel:function(e){return null!=e?(t.sliderY+=-e.wheelDeltaY||-e.delta,t.scroll(),!1):void 0}}},a.prototype.addEvents=function(){var t;this.removeEvents(),t=this.events,this.options.disableResize||this.win.bind(T,t[T]),this.slider.bind(d,t[l]),this.pane.bind(d,t[m]).bind(""+f+" "+n,t[H]),this.content.bind(""+b+" "+f+" "+n+" "+S,t[b])},a.prototype.removeEvents=function(){var t;t=this.events,this.win.unbind(T,t[T]),this.slider.unbind(),this.pane.unbind(),this.content.unbind(""+b+" "+f+" "+n+" "+S,t[b]).unbind(h,t[h]).unbind(p,t[p])},a.prototype.generate=function(){var t,e,i,s,n;return i=this.options,s=i.paneClass,n=i.sliderClass,t=i.contentClass,this.$el.find(""+s).length||this.$el.find(""+n).length||this.$el.append('<div class="'+s+'"><div class="'+n+'" /></div>'),this.content=this.$el.children("."+t),this.content.attr("tabindex",0),this.slider=this.$el.find("."+n),this.pane=this.$el.find("."+s),o&&(e={right:-o},this.$el.addClass("has-scrollbar")),i.iOSNativeScrolling&&(null==e&&(e={}),e.WebkitOverflowScrolling="touch"),null!=e&&this.content.css(e),this},a.prototype.restore=function(){return this.stopped=!1,this.pane.show(),this.addEvents()},a.prototype.reset=function(){var t,e,i,n,l,r,h,a,c;return this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),t=this.content[0],i=t.style,n=i.overflowY,s&&this.content.css({height:this.content.height()}),e=t.scrollHeight+o,r=this.pane.outerHeight(),a=parseInt(this.pane.css("top"),10),l=parseInt(this.pane.css("bottom"),10),h=r+a+l,c=Math.round(h/e*h),c<this.options.sliderMinHeight?c=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&c>this.options.sliderMaxHeight&&(c=this.options.sliderMaxHeight),n===b&&i.overflowX!==b&&(c+=o),this.maxSliderTop=h-c,this.contentHeight=e,this.paneHeight=r,this.paneOuterHeight=h,this.sliderHeight=c,this.slider.height(c),this.events.scroll(),this.pane.show(),this.isActive=!0,this.pane.outerHeight(!0)>=t.scrollHeight&&n!==b?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===t.scrollHeight&&n===b?this.slider.hide():this.slider.show(),this.pane.css(this.options.alwaysVisible?{opacity:1,visibility:"visible"}:{opacity:"",visibility:""}),this},a.prototype.scroll=function(){return this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.content.scrollTop((this.paneHeight-this.contentHeight+o)*this.sliderY/this.maxSliderTop*-1),this.slider.css({top:this.sliderY}),this},a.prototype.scrollBottom=function(t){return this.reset(),this.content.scrollTop(this.contentHeight-this.content.height()-t).trigger(f),this},a.prototype.scrollTop=function(t){return this.reset(),this.content.scrollTop(+t).trigger(f),this},a.prototype.scrollTo=function(e){var i,s,o;return this.reset(),o=t(e).offset().top,o>this.maxSliderTop&&(i=o/this.contentHeight,s=this.maxSliderTop*i,this.sliderY=s,this.scroll()),this},a.prototype.stop=function(){return this.stopped=!0,this.removeEvents(),this.pane.hide(),this},a.prototype.flash=function(){var t=this;return this.reset(),this.pane.addClass("flashed"),setTimeout(function(){t.pane.removeClass("flashed")},this.options.flashDelay),this},a}(),t.fn.nanoScroller=function(e){return this.each(function(){var i,s;if((s=this.nanoscroller)||(i=t.extend({},x,e),this.nanoscroller=s=new v(this,i)),e&&"object"==typeof e){if(t.extend(s.options,e),e.scrollBottom)return s.scrollBottom(e.scrollBottom);if(e.scrollTop)return s.scrollTop(e.scrollTop);if(e.scrollTo)return s.scrollTo(e.scrollTo);if("bottom"===e.scroll)return s.scrollBottom(0);if("top"===e.scroll)return s.scrollTop(0);if(e.scroll&&e.scroll instanceof t)return s.scrollTo(e.scroll);if(e.stop)return s.stop();if(e.flash)return s.flash()}return s.reset()})}}(jQuery,window,document);